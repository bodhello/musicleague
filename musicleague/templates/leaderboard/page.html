{% extends "base.html" %}

{% block title %}Music League | {{ league.name }}{% endblock %}

{% block css %}
<link rel="stylesheet" href="/static/css/leaderboard.css">
{% endblock %}

{% block content %}

<div id="img-bar" style="background-image: url('/static/images/{{ user.profile_background }}')">
    <div id="nav-bar">
        <div class="brand-wrapper">
            <a href="/">
                <img src="/static/icons/site_logo.svg" alt="" class="brand-icon">
            </a>
        </div>
        <div class="add-league-wrapper">
            <span class="add-league-text hidden-xs">Add League</span>
            <a href="{{ url_for('get_create_league') }}">
                <img src="/static/icons/add_icon.svg" alt="" class="add-league-icon">
            </a>
        </div>
        <svg class="account-divider" width="7" height="120" viewBox="0 0 3 120" version="1.1" xmlns="http://www.w3.org/2000/svg">
            <line stroke-linecap="round" x1="1" y1="0" x2="1" y2="90" stroke="white" stroke-width="3"/>
        </svg>
        <div class="account-wrapper">
            <span class="account-name hidden-xs">{{ user.first_name }}</span>
            <div class="dropdown" style="display: inline;">
                <a type="button" class="dropdown-toggle account-icon" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <img src="/static/icons/account_icon.svg" alt="" class="account-icon">
                </a>
                <ul class="dropdown-menu pull-right">
                    <li>
                        <a href="{{ url_for('profile') }}">
                            <span id="profile-icon" class="icon"></span>
                            <span class="text">Profile</span>
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('view_profile_settings') }}">
                            <span id="settings-icon" class="icon"></span>
                            <span class="text">Settings</span>
                        </a>
                    </li>
                    <li>
                        <a href="{{ url_for('logout') }}">
                            <span id="logout-icon" class="icon"></span>
                            <span class="text">Log Out</span>
                        </a>
                    </li>
                    {% if user.is_admin %}
                    <li>
                        <a href="{{ url_for('admin') }}">
                            <span id="admin-icon" class="icon"></span>
                            <span class="text">Admin</span>
                        </a>
                    </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>
    <div id="title-bar">
        <span class="league-title">{{ league.name }}</span>
    </div>
</div>
<div id="status-bar">
    <div class="container">
        All Point Totals
    </div>
</div>
<div class="container">
    {% for ranking, ranking_entries in league.scoreboard.rankings.iteritems() %}
        {% for entry in ranking_entries %}
        <div class="row">
            <div class="col-xs-12 col-sm-10 col-sm-offset-1">
                <div class="row-fluid ranking-entry">
                    <div class="row-height">
                        <div class="col-xs-4 col-sm-3 col-md-2 points-wrapper vcenter col-height">
                            <span class="points">{{ entry.points }}</span>
                        </div>
                        <div class="col-xs-8 col-sm-9 col-md-10 name-wrapper vcenter col-height">
                            <span class="name">{{ entry.user.name }}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    {% endfor %}
</div>

{% endblock %}
